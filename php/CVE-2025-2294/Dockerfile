FROM debian:bookworm

# Install dependencies
RUN apt update && \
    apt upgrade && \
    apt install -y php php-fpm nginx default-mysql-client default-mysql-server curl unzip supervisor

# Install wordpress
RUN cd /var/www/ && curl -O https://wordpress.org/latest.zip && unzip latest.zip && rm latest.zip

# Configure system
RUN update-rc.d -f nginx disable
ADD etc/ etc/

# Start supervisor
CMD ["/usr/bin/supervisord", "-n"]
